albedinoRequest= {"polizzaKey":{"numeroPolizza":1337262,"numeroCollettiva":0,"sottoCategoria":"11","codiceSocieta":341,"codiceAgenzia":""},"riscattoTotale":true,"importoRiscattoParziale":null}
DIFFERENZA / POLIZZA CON DIFFERENZE RISCATTO TOTALE : PolizzaRiscattabile{numeroRiga=83, codiceSocieta='341', categoria='11', numeroCollettiva='0', numeroPolizza='1337262', agenziaGestione='001', codiceProdotto='961', dataDecorrenza='2022-12-16', riscattabileParzialmente=true, convenzione='001961'}
---------------------------------------------------------------------------------------------
CICS     : importoNetto=0.000, importoLordo=, imposteLordo=0.000
CICS ERROR: E0637 - SUL CONTRATTO ESISTONO ORDINI PENDENTI: VEDERE MENU REGISTRO ORDINI
ALBEDINO : importoNetto=18970.680, importoLordo=18970.680, imposteLordo=0.000

albedinoRequest= {"polizzaKey":{"numeroPolizza":1110856,"numeroCollettiva":0,"sottoCategoria":"11","codiceSocieta":341,"codiceAgenzia":""},"riscattoTotale":false,"importoRiscattoParziale":761.502}
DIFFERENZA / POLIZZA CON DIFFERENZE RISCATTO PARZIALE : PolizzaRiscattabile{numeroRiga=9853, codiceSocieta='341', categoria='11', numeroCollettiva='0', numeroPolizza='1110856', agenziaGestione='700', codiceProdotto='919', dataDecorrenza='2019-12-13', riscattabileParzialmente=true, convenzione='700919'}
---------------------------------------------------------------------------------------------
CICS     : importoNettoParziale=751.152, importoLordoParziale=761.502, imposteLordoParziale=10.350
ALBEDINO : importoNetto=, importoLordo=, imposteLordo=
ALBEDINO ERROR: com.arca.albedino.exception.modellomatematico.ModelloMatematicoInterruzioneRichiestaDaFunzioneException: ARRESTO FORZATO DA MACRO M-RC
	at com.arca.albedino.db2.modello.matematico.macro.MRc.esegui(MRc.java:19)
	at com.arca.albedino.db2.modello.matematico.InterpreteModelloMatematicoService.elaboraMacro(InterpreteModelloMatematicoService.java:97)
	at com.arca.albedino.db2.modello.matematico.InterpreteModelloMatematicoService.execute(InterpreteModelloMatematicoService.java:56)
	at com.arca.albedino.db2.modello.matematico.ModelloMatematicoJavaService.elaboraProgramma(ModelloMatematicoJavaService.java:104)
	at com.arca.albedino.db2.modello.matematico.ModelloMatematicoJavaService.esegui(ModelloMatematicoJavaService.java:68)
	at com.arca.albedino.db2.modello.matematico.ModelloMatematicoParalleloService.call(ModelloMatematicoParalleloService.java:63)
	at com.arca.albedino.feature.riscatto.modellomatematico.formula5xx.ModelloMatematicoFormula5xxHelper.chiama(ModelloMatematicoFormula5xxHelper.java:18)
	at com.arca.albedino.db2.riscatto.ImportoRiscattabilePosizioneService.calcola(ImportoRiscattabilePosizioneService.java:14)
	at com.arca.albedino.db2.riscatto.posizione.PosizioniServiceImpl.mapPosizione(PosizioniServiceImpl.java:74)
	at com.arca.albedino.db2.riscatto.posizione.PosizioniServiceImpl.lambda$findBy$0(PosizioniServiceImpl.java:43)
	at com.arca.albedino.db2.riscatto.posizione.PosizioniServiceImpl$$Lambda$12395/0x000000007c907920.apply(Unknown Source)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:204)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1395)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:524)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:514)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:719)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:245)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:510)
	at com.arca.albedino.db2.riscatto.posizione.PosizioniServiceImpl.findBy(PosizioniServiceImpl.java:44)
	at com.arca.albedino.db2.riscatto.SommaImportoPosizioniTrattabiliService.calcola(SommaImportoPosizioniTrattabiliService.java:18)
	at com.arca.albedino.db2.riscatto.imposta.ImposteService.nuovaFiscalitaInput(ImposteService.java:73)
	at com.arca.albedino.db2.riscatto.imposta.ImposteService.calcoloImposteSuImportoLordo(ImposteService.java:62)
	at com.arca.albedino.feature.riscatto.imposta.ImposteApiAdapter.calcoloImposteSuImportoLordo(ImposteApiAdapter.java:24)
	at com.arca.arcafriend.banche.riscatto.testnonregressione.TestNonRegressioneAdapter.calcoloRiscatto(TestNonRegressioneAdapter.java:45)
	at com.arca.arcafriend.banche.riscatto.testnonregressione.TestNonRegressioneUseCase.calcoloRiscatto(TestNonRegressioneUseCase.java:12)
	at com.arca.arcafriend.banche.riscatto.TestNoRegressioneRiscattoController.calcoloRiscatto(TestNoRegressioneRiscattoController.java:19)
	at com.arca.arcafriend.banche.riscatto.TestNoRegressioneRiscattoController$$FastClassBySpringCGLIB$$899be4f7.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:100)
	at com.arca.arcafriend.banche.http.HttpRequestStringPreprocessingAdvice.around(HttpRequestStringPreprocessingAdvice.java:93)
	at sun.reflect.GeneratedMethodAccessor2525.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.arca.arcafriend.banche.riscatto.TestNoRegressioneRiscattoController$$EnhancerBySpringCGLIB$$dd40b53d.calcoloRiscatto(<generated>)
	at sun.reflect.GeneratedMethodAccessor2524.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:595)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:668)
	at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1233)
	at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:782)
	at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:481)
	at com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:178)
	at com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:136)
	at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:97)
	at com.arca.arcafriend.banche.http.MessagesCleanupFilter.doFilterInternal(MessagesCleanupFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)
	at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)
	at com.arca.arcafriend.banche.http.UnhandledExceptionCleanupFilter.doFilterInternal(UnhandledExceptionCleanupFilter.java:30)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)
	at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)
	at com.arca.arcafriend.banche.http.LoggingFilter.doFilterInternal(LoggingFilter.java:63)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)
	at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)
	at com.arca.distributed.logs.filters.DistributedLogsFilterBase.doActualFilter(DistributedLogsFilterBase.java:72)
	at com.arca.distributed.logs.filters.DistributedLogsFilterBase.doFilter(DistributedLogsFilterBase.java:52)
	at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)
	at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)
	at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)
	at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)
	at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)
	at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)
	at com.arca.sso.filter.SSOFilter.doFilter(SSOFilter.java:66)
	at com.arca.sso.filter.SSOFilterRestServices.doFilter(SSOFilterRestServices.java:21)
	at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)
	at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)
	at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)
	at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:967)
	at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1107)
	at com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:87)
	at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:952)
	at com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1817)
	at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:213)
	at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:463)
	at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:530)
	at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:316)
	at com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:88)
	at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)
	at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)
	at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)
	at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)
	at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)
	at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)
	at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)
	at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1892)

 

albedinoRequest= {"polizzaKey":{"numeroPolizza":890284,"numeroCollettiva":0,"sottoCategoria":"11","codiceSocieta":341,"codiceAgenzia":""},"riscattoTotale":true,"importoRiscattoParziale":null}
DIFFERENZA / POLIZZA CON DIFFERENZE RISCATTO TOTALE : PolizzaRiscattabile{numeroRiga=27463, codiceSocieta='341', categoria='11', numeroCollettiva='0', numeroPolizza='890284', agenziaGestione='145', codiceProdotto='750', dataDecorrenza='2016-03-03', riscattabileParzialmente=true, convenzione='145750'}
---------------------------------------------------------------------------------------------
CICS     : importoNetto=26677.790, importoLordo=26677.780, imposteLordo=0.000
ALBEDINO : importoNetto=26677.790, importoLordo=26677.790, imposteLordo=0.000

DIFFERENZA / POLIZZA NON CONFRONTATA PER ERRORI: PolizzaRiscattabile{numeroRiga=26153, codiceSocieta='341', categoria='11', numeroCollettiva='0', numeroPolizza='895306', agenziaGestione='209', codiceProdotto='761', dataDecorrenza='2016-03-18', riscattabileParzialmente=true, convenzione='212761'}
--------------------------------------------------------------------------------------
com.ibm.connector2.cics.CICSTxnAbendException: CTG9638E Transaction Abend occurred in CICS. Abend Code=: AZI6, error code: AZI6
	at com.ibm.connector2.cics.ECIManagedConnection.checkReturnCode(Unknown Source)
	at com.ibm.connector2.cics.ECIManagedConnection.call(Unknown Source)
	at com.ibm.connector2.cics.ECIConnection.call(Unknown Source)
	at com.ibm.connector2.cics.ECIInteraction.execute(Unknown Source)
	at com.arca.ecci.runtime.CicsProgramCaller.execute(CicsProgramCaller.java:104)
	at com.arca.riscatto.riv04.CalcoloImportiRiscattoParziale.calcola(CalcoloImportiRiscattoParziale.java:28)
	at com.arca.riscatto.riv04.RegressioneTestExecuter.run(RegressioneTestExecuter.java:51)
	at java.lang.Thread.run(Unknown Source)

 

